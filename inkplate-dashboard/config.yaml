name: Lovelace Inkplate Dashboard
version: 1.0.15
slug: inkplate-dashboard
description: This tool can be used to display a Lovelace view of your Home Assistant instance on an e-ink device. It regularly takes a screenshot which can be polled and used as a screensaver image.
startup: application
boot: auto
homeassistant: "2023.1.0"
arch:
  - aarch64
  - amd64
  - armv7
url: 'https://github.com/cromulus/hass-lovelace-inkplate-dashboard'
image: 'cromulus/hass-lovelace-inkplate-dashboard-{arch}'
webui: 'http://[HOST]:[PORT:5000]'
ingress: true
ingress_port: 5000
ports:
  5000/tcp: 5000
ports_description:
  5000/tcp: 'Node Webserver hosting rendered image'
map:
  - media:rw
watchdog: 'http://[HOST]:[PORT:5000]/'
init: false
options:
  HA_BASE_URL: 'https://your-path-to-home-assistant:8123'
  HA_SCREENSHOT_URL: '/lovelace/0'
  HA_ACCESS_TOKEN: ''
  LANGUAGE: 'en'
  CRON_JOB: '* * * * *'
  RENDERING_TIMEOUT: '60000'
  RENDERING_DELAY: '0'
  RENDERING_SCREEN_HEIGHT: '800'
  RENDERING_SCREEN_WIDTH: '600'
  BROWSER_LAUNCH_TIMEOUT: '30000'
  ROTATION: '0'
  SCALING: '1'
  GRAYSCALE_DEPTH: '8'
  IMAGE_FORMAT: 'png'
  COLOR_MODE: 'GrayScale'
  REMOVE_GAMMA: true
  PREFERS_COLOR_SCHEME: 'light'
  SATURATION: 1
  CONTRAST: 1
  SHARPEN: ''
  DITHER: true
  DITHER_ALGO: 'Riemersma'
  BLACK_LEVEL: '0%'
  WHITE_LEVEL: '100%'
  ADDITIONAL_ENV_VARS: []
  MQTT_HOST: 'core-mosquitto'
  MQTT_PORT: 1883
  MQTT_USER: 'homeassistant'
  MQTT_PASSWORD: ''
  MQTT_PROTOCOL: '4'
schema:
  HA_BASE_URL: url
  HA_SCREENSHOT_URL: str
  HA_ACCESS_TOKEN: password
  LANGUAGE: str?
  CRON_JOB: str?
  RENDERING_TIMEOUT: int?
  RENDERING_DELAY: int?
  RENDERING_SCREEN_HEIGHT: int?
  RENDERING_SCREEN_WIDTH: int?
  BROWSER_LAUNCH_TIMEOUT: int?
  ROTATION: int?
  SCALING: float?
  GRAYSCALE_DEPTH: int?
  IMAGE_FORMAT: "list(png|jpeg|bmp)?"
  COLOR_MODE: "list(GrayScale|TrueColor)?"
  REMOVE_GAMMA: bool?
  PREFERS_COLOR_SCHEME: "list(light|dark)?"
  SATURATION: int?
  CONTRAST: int?
  SHARPEN: str?
  DITHER: bool?
  DITHER_ALGO: "list(Riemersma|FloydSteinberg|None)?"
  BLACK_LEVEL: str?
  WHITE_LEVEL: str?
  ADDITIONAL_ENV_VARS:
    - name: str
      value: str
  MQTT_HOST: str?
  MQTT_PORT: int?
  MQTT_USER: str?
  MQTT_PASSWORD: password?
  MQTT_PROTOCOL: "list(4|5.0)?"
services:
  - mqtt:want
environment:
  output_path: "/output/cover"
